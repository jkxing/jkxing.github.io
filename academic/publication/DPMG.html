

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Differentiable Photon Mapping using Generalized Path Gradients - Academic Homepage</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Academic Homepage">
<meta property="og:title" content="Differentiable Photon Mapping using Generalized Path Gradients">


  <link rel="canonical" href="https://jkxing.github.io/academic/publication/DPMG">
  <meta property="og:url" content="https://jkxing.github.io/academic/publication/DPMG">



  <meta property="og:description" content="Jiankai Xing, Zengyu Li, Fujun Luan, Kun Xu">





  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2024-09-16T00:00:00-07:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Jiankai Xing",
      "url" : "https://jkxing.github.io/academic",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="https://jkxing.github.io/academic/feed.xml" type="application/atom+xml" rel="alternate" title="Academic Homepage Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://jkxing.github.io/academic/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    

<!-- start custom head snippets -->

<link rel="apple-touch-icon" sizes="57x57" href="https://jkxing.github.io/academic/images/apple-touch-icon-57x57.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="60x60" href="https://jkxing.github.io/academic/images/apple-touch-icon-60x60.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="72x72" href="https://jkxing.github.io/academic/images/apple-touch-icon-72x72.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="76x76" href="https://jkxing.github.io/academic/images/apple-touch-icon-76x76.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="114x114" href="https://jkxing.github.io/academic/images/apple-touch-icon-114x114.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="120x120" href="https://jkxing.github.io/academic/images/apple-touch-icon-120x120.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="144x144" href="https://jkxing.github.io/academic/images/apple-touch-icon-144x144.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="152x152" href="https://jkxing.github.io/academic/images/apple-touch-icon-152x152.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="180x180" href="https://jkxing.github.io/academic/images/apple-touch-icon-180x180.png?v=M44lzPylqQ">
<link rel="icon" type="image/png" href="https://jkxing.github.io/academic/images/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32">
<link rel="icon" type="image/png" href="https://jkxing.github.io/academic/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192">
<link rel="icon" type="image/png" href="https://jkxing.github.io/academic/images/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96">
<link rel="icon" type="image/png" href="https://jkxing.github.io/academic/images/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16">
<link rel="manifest" href="https://jkxing.github.io/academic/images/manifest.json?v=M44lzPylqQ">
<link rel="mask-icon" href="https://jkxing.github.io/academic/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000">
<link rel="shortcut icon" href="/images/favicon.ico?v=M44lzPylqQ">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="https://jkxing.github.io/academic/images/mstile-144x144.png?v=M44lzPylqQ">
<meta name="msapplication-config" content="https://jkxing.github.io/academic/images/browserconfig.xml?v=M44lzPylqQ">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="https://jkxing.github.io/academic/assets/css/academicons.css"/>

<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML' async></script>

<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="https://jkxing.github.io/academic/">Academic Homepage</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://jkxing.github.io/academic/publications/">Publications</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://jkxing.github.io/academic/cv/">CV</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  <article class="splash" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Differentiable Photon Mapping using Generalized Path Gradients">
    <meta itemprop="description" content="Jiankai Xing, Zengyu Li, Fujun Luan, Kun Xu">
    <meta itemprop="datePublished" content="September 16, 2024">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Differentiable Photon Mapping using Generalized Path Gradients
</h1>
          
        
        
        
          <p>Published in <i>Siggraph Asia</i>, 2024 </p>
        
        
             
        
    
        </header>
      

      <section class="page__content" itemprop="text">
        <p><a href="https://jkxing.github.io/academic">Jiankai Xing</a>, Zengyu Li, <a href="https://luanfujun.com">Fujun Luan</a>, <a href="https://cg.cs.tsinghua.edu.cn/people/~kun/">Kun Xu</a></p>

<p><a href="../files/DPMG.pdf"><img src="../assets/pdf-icon.png" alt="width=20%" />Paper</a>
<a href="https://github.com/jkxing/DPMG"><img src="../assets/github-icon.png" alt="width=20%" />Code</a></p>

<div align="center"><img src="../assets/teaser-DPMG.png" width="100%" height="100%" /></div>
<div align="left">Fig. 1 Visual comparisons between our differentiable photon mapping method with several state-of-the-art physics-based differentiable rendering methods. The scene contains a ring behind a magnifying glass within the Cornell box. The optimizing parameters include the color of the diamond on the ring and the thickness of the glass. Initially the magnifying glass is very thin and the goal of optimization is to thicken the magnifying glass and to modify the color of the diamond to match the magnified view of the ring in the target image. The comparison baseline methods include attached PT (a reimplemented simplified version of attached path replay backpropagation), ptracer, Plateau-reduced Differentiable Path Tracing (PRDPT), and the original extended path space manifolds based method (ori. EPSM).  For better display quality, the displayed visual results of each method shown in the figure are re-rendered with 8192 spps using that method, except that path tracing is used for re-rendering the displayed visual results of ptracer (marked as `PT rerendered') since ptracer is not able to sample the refraction paths in this scene. </div>

<h1 id="abstract">Abstract</h1>

<p>Photon mapping is a fundamental and practical Monte Carlo rendering technique for efficiently simulating global illumination effects, especially for caustics and specular-diffuse-specular (SDS) paths. In this paper, we present the first differentiable rendering method for photon mapping. The core of our method is a newly introduced concept named generalized path
gradients. Based on the extended path space manifolds (EPSMs) [Xing et al.2023], the generalized path gradients define the derivatives of the vertex positions and color contributions of a path with respect to scene parameters under given geometric constraints. By formalizing photon mapping as a path sampling technique through vertex merging [Georgiev et al. 2012]
and incorporating a smooth differentiable density estimation kernel, we enable the differentiation of the photon mapping algorithms based on the theoretical results of generalized path gradients. Experiments demonstrate that our method is more effective than state-ofthe-art physics-based differentiable rendering methods in inverse rendering applications involving difficult illumination paths, especially SDS paths.</p>

<h1 id="recommended-bibtex-citation">Recommended Bibtex Citation</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@article{Xing2024DPMG,
    title = {Differentiable Photon Mapping using Generalized Path Gradients},
    author = {Xing, Jiankai and Li, Zengyu and Luan, Fujun and Xu, Kun},
    year = {2024},
    month = {dec},
    url = {https://doi.org/10.1145/3687958},
    articleno = {257},
    numpages = {14},
    journal = {ACM Trans. Graph.},
    volume = {43},
    number = {6},
    publisher = {Association for Computing Machinery},
}
</code></pre></div></div>

        
      </section>

      <footer class="page__meta">
        
        




      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=https://jkxing.github.io/academic/publication/DPMG" class="btn btn--twitter" title="Share on Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https://jkxing.github.io/academic/publication/DPMG" class="btn btn--facebook" title="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://jkxing.github.io/academic/publication/DPMG" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

      


  <nav class="pagination">
    
      <a href="https://jkxing.github.io/academic/publication/EPSM" class="pagination--pager" title="Extended Path Space Manifolds for Physically Based Differentiable Rendering
">Previous</a>
    
    
      <a href="https://jkxing.github.io/academic/publication/REPARO" class="pagination--pager" title="REPARO: Compositional 3D Assets Generation with Differentiable 3D Layout Alignment
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<a href="/sitemap/">Sitemap</a>
<!-- end custom footer snippets -->

        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
      <li><a href="http://github.com/jkxing"><i class="fab fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="https://jkxing.github.io/academic/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 Jiankai Xing. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/academicpages/academicpages.github.io">AcademicPages</a>, a fork of <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="https://jkxing.github.io/academic/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');
</script>






  </body>
</html>

